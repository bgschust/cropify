/*
 * UniFilter - jQuery Plugin for Sorting, Searching and Filtering
 * http://plugins.gravitysign.com/unifilter
 * Copyright (c) 2018 Roman Yurchuk
 * Version 3.0
*/

(function($,undefined){"use strict";function UniFilter(container,list,options){this.container=$(container);this.options=options;this.list=$(list);this.items=this.list.children(options.selector);this.filters={};this.search={};this.range={};this.sort=null;this.data=[];this.init()}
UniFilter.prototype.getCSS3Property=function(name){var prefix=['Webkit','Moz','O','ms'];var style=document.createElement('div').style;if(style[name]===''){return name}else{var ucname=name.charAt(0).toUpperCase()+name.substr(1);for(var p in prefix){if(style[prefix[p]+ucname]===''){return prefix[p]+ucname}}}
return undefined};UniFilter.prototype.getCSS3Event=function(){var events={'WebkitTransition':'webkitTransitionEnd','MozTransition':'transitionend','OTransition':'oTransitionEnd otransitionend','transition':'transitionend'};return events[this.getCSS3Property('transition')]};UniFilter.prototype.init=function(){var that=this;this.list.addClass('uf-list');this.items.addClass('uf-item').each(function(n){that.data.push({item:this,index:n,display:!0,filters:that.getItemFilters(this),search:that.getItemSearch(this),sort:that.getItemSort(this),range:that.getItemRange(this),filters_match:0,search_match:0,range_match:0})});this.leading_filters=this.getLeadingFilters();var order=this.options.order.trim().split(/\s*,\s*/);order.forEach(function(entry){switch(entry){case "filters":if(that.options.filters){that.displayFilters();that.addFilterEvents();window.setTimeout(function(){that.addDeepLinking()},50)}
break;case "search":if(that.options.search){that.displaySearch();that.addSearchEvents()}
break;case "sort":if(that.options.sort){that.displaySort();that.addSortEvents()}
break;case "range":if(that.options.range){that.displayRange();that.addRangeEvents()}}});if(this.options.autoScroll){$(window).on('scroll.unifilter',function(){window.clearTimeout(that.scrollTimer)})}};UniFilter.prototype.getItemFilters=function(item){var filter_tags={};if(!this.options.filters){return null}
for(var filter_name in this.options.filters){var data,filter=this.options.filters[filter_name];filter_tags[filter_name]=[];if(filter.getFilterData&&typeof filter.getFilterData==="function"){data=filter.getFilterData.call(item,filter_name);if(Array.isArray(data)){filter_tags[filter_name]=data}}else{data=$(item).data(filter_name);if(data&&data.length){filter_tags[filter_name]=data.split(/\s*,\s*/)}}}
return filter_tags};UniFilter.prototype.uniqueFilterTags=function(){var tags={};for(var filter_name in this.options.filters){var all_tags=[],unique_tags=[];for(var i=0;i<this.data.length;i++){all_tags=all_tags.concat(this.data[i].filters[filter_name])}
while(all_tags.length){var tag=all_tags.pop();if(unique_tags.indexOf(tag)===-1&&tag!==''){unique_tags.push(tag)}}
var filter_options=this.options.filters[filter_name];if(typeof filter_options.sortFilterTags==='function'){unique_tags=filter_options.sortFilterTags(unique_tags)}
tags[filter_name]=unique_tags}
return tags};UniFilter.prototype.getFilterNumItems=function(filter,tag){if(this.options.filters[filter]){var n=0;for(var i=0;i<this.data.length;i++){if(this.data[i].filters[filter].indexOf(tag)!==-1){n++}}
return n}else{return 0}};UniFilter.prototype.displayFilters=function(){var filter_tags=this.uniqueFilterTags();var markup=$('<div class="uf-filter-wrap"></div>');for(var filter_name in this.options.filters){var filter_option=this.options.filters[filter_name];if(filter_option.display&&filter_tags[filter_name].length){var filter_markup=$('<div id="uf-'+filter_name+'" class="uf-filter"></div>');if(filter_option.title){var title=$('<div class="uf-title">'+filter_option.title+'</div>');if(filter_option.subtitle){title.append('<span>'+filter_option.subtitle+'</span>')}
filter_markup.append(title)}
var tags_markup=$('<div class="uf-tags"></div>');for(var i=0;i<filter_tags[filter_name].length;i++){var tag=filter_tags[filter_name][i];var tag_markup=$('<div><a href="#'+tag+'">'+tag+'</a></div>');if(filter_option.tooltip){tag_markup.append('<span class="uf-tooltip">'+this.getFilterNumItems(filter_name,tag)+'</span>')}
tags_markup.append(tag_markup)}
tags_markup.append('<div class="uf-reset" title="Reset filters"></div>');filter_markup.append(tags_markup);markup.append(filter_markup)}}
this.container.append(markup)};UniFilter.prototype.displaySearch=function(){var markup=$('<div class="uf-search-wrap"></div>');for(var search in this.options.search){var search_option=this.options.search[search];if(search_option.display){var search_markup=$('<div id="uf-'+search+'" class="uf-search"></div>');if(search_option.title){var title=$('<div class="uf-title">'+search_option.title+'</div>');if(search_option.subtitle){title.append('<span>'+search_option.subtitle+'</span>')}
search_markup.append(title)}
$('<div class="uf-search-box"></div>').append('<input type="search" placeholder="'+search_option.placeholder+'"/>').append('<div class="uf-reset" title="Reset"></div>').appendTo(search_markup);markup.append(search_markup)}}
this.container.append(markup)};UniFilter.prototype.displaySort=function(){var sort_option=this.options.sort;if(!sort_option.display){return}
var markup=$('<div class="uf-sort-wrap"><div class="uf-sort"></div></div>');if(sort_option.title){var title=$('<div class="uf-title">'+sort_option.title+'</div>');if(sort_option.subtitle){title.append('<span>'+sort_option.subtitle+'</span>')}
markup.find('.uf-sort').append(title)}
var sortbox_markup=$('<div class="uf-sort-box">'+'<div class="uf-select"><span>'+sort_option.placeholder+' &hellip;</span>'+'<a class="uf-order" href="#" title="Reverse sorting order"></a></div></div>');var options_markup=$('<div class="uf-options"></div>');for(var option_name in sort_option.options){var option=sort_option.options[option_name];options_markup.append('<div><a href="#'+option_name+'">'+(option.label?option.label:option_name)+'</a></li>')}
options_markup.append('<div><a href="" title="Click to reset sorting">None</a></div>');sortbox_markup.append(options_markup);markup.find('.uf-sort').append(sortbox_markup);this.container.append(markup)};UniFilter.prototype.displayRange=function(){var markup=$('<div class="uf-range-wrap"></div>');for(var range_name in this.options.range){var range_option=this.options.range[range_name];if(range_option.display&&range_option.scale){var range_markup=$('<div id="uf-'+range_name+'" class="uf-range"></div>');if(range_option.title){var title=$('<div class="uf-title">'+range_option.title+'</div>');if(range_option.subtitle){title.append('<span>'+range_option.subtitle+'</span>')}
range_markup.append(title)}
var scale=range_option.scale.replace(/[^\d-\.]+/g,'').split('-');var slider_markup=$('<div class="uf-slider">'+'<div class="uf-path">'+'<a href="#" class="uf-handle-left">'+'<span class="uf-tooltip">'+range_option.prefix+Number(scale[0]).toFixed(range_option.precision)+'</span>'+'</a>'+'<a href="#" class="uf-handle-right">'+'<span class="uf-tooltip">'+range_option.prefix+Number(scale[1]).toFixed(range_option.precision)+'</span>'+'</a>'+'</div>'+'<span class="uf-start">'+range_option.prefix+Number(scale[0]).toFixed(range_option.precision)+'</span>'+'<span class="uf-end">'+range_option.prefix+Number(scale[1]).toFixed(range_option.precision)+'</span>'+'</div>');range_markup.append(slider_markup);markup.append(range_markup)}}
this.container.append(markup)};UniFilter.prototype.addSortEvents=function(){var that=this;var sortbox=$('.uf-sort .uf-sort-box'),sortbox_text=$('.uf-sort .uf-select span'),options=$('.uf-sort .uf-options');sortbox_text.on('click',function(){sortbox.toggleClass('uf-show-options')}).on('mousedown',function(e){e.preventDefault()});options.on('click','a',function(e){var option=$(this).attr('href').substr(1);sortbox.removeClass('uf-order-asc uf-order-desc');if(option){var order=that.options.sort.options[option].order;that.sort=[option,order.toUpperCase()];sortbox_text.text($(this).text());sortbox.addClass('uf-order-'+order.toLowerCase())}else{that.sort=null;sortbox_text.html(that.options.sort.placeholder+' &hellip;')}
sortbox.removeClass('uf-show-options');that.updateList();e.preventDefault()});$('.uf-sort .uf-order').on('click',function(e){if(that.sort!==null){var order=(that.sort[1]=='ASC'?'DESC':'ASC');that.sort=[that.sort[0],order];sortbox.removeClass('uf-order-asc uf-order-desc').addClass('uf-order-'+order.toLowerCase());that.updateList()}
sortbox.removeClass('uf-show-options');e.preventDefault()})};UniFilter.prototype.addFilterEvents=function(){var that=this;for(var filter_name in this.options.filters){var filter_option=this.options.filters[filter_name];this.filters[filter_name]=[];(function(name,option){$('#uf-'+name+' .uf-tags').on('click','a',function(e){e.preventDefault();if($(this).parent().hasClass('uf-tag-hidden')){return}
var tag=$(this).attr('href').substr(1);if(option.multiple){$(this).parent().toggleClass('uf-selected');var tag_index=that.filters[name].indexOf(tag);if(tag_index==-1){that.filters[name].push(tag)}else{that.filters[name].splice(tag_index,1)}}else{if($(this).parent().hasClass('uf-selected')){return}else{$(this).parent().addClass('uf-selected').siblings().removeClass('uf-selected');that.filters[name]=[tag]}}
that.hideEmptyFilters();that.filterItems()});$('#uf-'+name+' .uf-reset').on('click',function(){if(that.list.children('.uf-item').length!==that.items.length){$(this).siblings().removeClass('uf-selected');that.filters[name]=[];if(that.options.hideEmptyFilters){var leading_filters=that.getLeadingFilters();if($(this).closest('.uf-filter').is('#uf-'+leading_filters[0])){that.container.find('.uf-tags > li').removeClass('uf-tag-hidden')}}
that.filterItems()}})})(filter_name,filter_option)}};UniFilter.prototype.addSearchEvents=function(){var that=this;for(var search in this.options.search){that.search[search]=[];(function(search_name){var timer;$('#uf-'+search_name+' input[type="search"]').on('keyup',function(e){var input=this;window.clearTimeout(timer);timer=window.setTimeout(function(){var query=$(input).val().trim();that.search[search_name]=(query==='')?[]:query.replace(/[^\w\s']/g,'').split(/\s+/);that.searchItems()},500)});$('#uf-'+search_name+' .uf-reset').on('click',function(){var input=$(this).siblings('input[type="search"]');if(input.val()===""){return}else{input.val("");that.search[search_name]=[];that.searchItems()}})})(search)}};UniFilter.prototype.addRangeEvents=function(){var that=this;for(var range_name in this.options.range){(function(name){var range_option=that.options.range[name];var slider=$('#uf-'+name+' .uf-slider'),path=$('.uf-path',slider),handle_left=$('.uf-handle-left',slider),handle_right=$('.uf-handle-right',slider);var handle_grab=0,dragging=!1,timer;var scale=range_option.scale.replace(/[^\d-\.]+/g,'').split('-');var min_scale=parseFloat(scale[0]),max_scale=parseFloat(scale[1]);that.range[name]=[];handle_right.on('mousedown touchstart',function(e){var tooltip=$(this).find('.uf-tooltip');if(typeof that.range[name][0]==="undefined"){that.range[name][0]=min_scale}
var page_x=(e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX);handle_grab=page_x-path.offset().left-handle_right.position().left;$(document).on('mousemove.unifilter touchmove.unifilter',function(e){if(dragging){var max_left=path.width()-handle_right.width();var page_x=(e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX);var left=page_x-path.offset().left-handle_grab;left=Math.max(handle_left.position().left,Math.min(max_left,left));handle_right.css('left',left);var scale_value=(max_scale-min_scale)*(left/max_left)+min_scale;tooltip.css('margin-left',-tooltip.outerWidth()/2);tooltip.text(range_option.prefix+scale_value.toFixed(range_option.precision));that.range[name][1]=scale_value;window.clearTimeout(timer);timer=window.setTimeout(function(){that.rangeItems()},500)}});e.preventDefault();dragging=!0;slider.addClass('uf-dragging-right')});handle_left.on('mousedown touchstart',function(e){var tooltip=$(this).find('.uf-tooltip');if(typeof that.range[name][1]==="undefined"){that.range[name][1]=max_scale}
var page_x=(e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX);handle_grab=page_x-path.offset().left-handle_left.position().left;$(document).on('mousemove.unifilter touchmove.unifilter',function(e){if(dragging){var max_left=handle_right.position().left;var page_x=(e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX);var left=page_x-path.offset().left-handle_grab;left=Math.max(0,Math.min(max_left,left));handle_left.css('left',left);var scale_value=(that.range[name][1]-min_scale)*(left/max_left)+min_scale;tooltip.css('margin-left',-tooltip.outerWidth()/2);tooltip.text(range_option.prefix+scale_value.toFixed(range_option.precision));that.range[name][0]=scale_value;window.clearTimeout(timer);timer=window.setTimeout(function(){that.rangeItems()},500)}});e.preventDefault();dragging=!0;slider.addClass('uf-dragging-left')});handle_left.add(handle_right).on('click',function(e){e.preventDefault()});$(document).on('mouseup.unifilter touchend.unifiltert',function(){if(dragging){slider.removeClass('uf-dragging-right uf-dragging-left');window.setTimeout(function(){dragging=!1},10);$(document).off('mousemove.unifilter touchmove.unifilter')}})})(range_name)}};UniFilter.prototype.filterItems=function(){for(var i=0;i<this.data.length;i++){var item=this.data[i];item.filters_match=0;for(var selected_filter in this.filters){var is_filter_leading=!1,has_leading_tag=!1;if(this.options.bestMatch){if(this.leading_filters.indexOf(selected_filter)!==-1&&this.filters[selected_filter].length){is_filter_leading=!0}}
for(var k=0;k<this.filters[selected_filter].length;k++){var tag=this.filters[selected_filter][k];if(item.filters[selected_filter].indexOf(tag)!==-1){item.filters_match++;if(is_filter_leading){has_leading_tag=!0}}}
if(is_filter_leading&&!has_leading_tag){item.filters_match=-100}}}
this.updateList();if(this.options.deepLinking){var url_hash='#';for(var active_filter in this.filters){if(this.filters[active_filter].length){if(url_hash.length>1){url_hash+='&'}
url_hash+=active_filter+'='+this.filters[active_filter].join(',')}}
window.location.hash=url_hash}};UniFilter.prototype.updateList=function(){var that=this;if(this.list.hasClass('uf-animate')){return}
var max_filters=0;for(var filter_name in this.filters){if(this.options.filters[filter_name].multiple&&this.filters[filter_name].length){max_filters+=1}else{max_filters+=this.filters[filter_name].length}}
var max_search=0;for(var search_name in this.search){max_search+=this.search[search_name].length}
var max_range=0;for(var range_name in this.range){if(this.range[range_name].length){max_range++}}
var total_active=max_filters+max_search+max_range;function _animate(item,toggle){if(that.options.animationType&&that.options.animationType!=='none'){item=$(item);var animation_class='uf-animate-opacity';if(that.options.animationType&&that.options.animationType!=='opacity'){animation_class+=' uf-animate-'+that.options.animationType}
item.addClass(animation_class);item.get(0).offsetHeight;if(toggle){item.removeClass(animation_class)}}}
if(that.options.animationType&&that.options.animationType!=='none'){this.list.addClass('uf-animate');this.items.css(this.getCSS3Property('transitionDuration'),this.options.animationTime+'ms');window.setTimeout(function(){that.list.removeClass('uf-animate');that.items.removeClass('uf-animate-opacity '+'uf-animate-'+that.options.animationType);that.items.css(that.getCSS3Property('transitionDuration'),'')},this.options.animationTime+50)}
if(that.options.animationType&&that.options.animationType!=='none'){$.each(this.list.children('.uf-item:not(.uf-clone)'),function(){var item=$(this),clone=item.clone();var left=item.position().left,top=item.position().top;clone.addClass('uf-clone').css({position:'absolute',left:left,top:top}).appendTo(that.list);clone.one(that.getCSS3Event(),function(){$(this).remove()});window.setTimeout(function(){_animate(clone,!1)},0)})}else{this.items.detach()}
this.list.find('#uf-separator, #uf-empty').remove();if(total_active===0){if(this.sort){var visible_items=this.data.slice(0);this.sortItems(visible_items);while(visible_items.length){var item_data=visible_items.pop();this.list.prepend(item_data.item);_animate(item_data.item,!0)}
window.setTimeout(function(){that.container.trigger('onListUpdate')},50);return}
for(var i=0;i<this.data.length;i++){var item_data=this.data[i];item_data.display=!0;this.list.append(item_data.item);_animate(item_data.item,!0)}
window.setTimeout(function(){that.container.trigger('onListUpdate')},50);return}
if(this.options.bestMatch===!1){for(var i=0;i<this.data.length;i++){var item_data=this.data[i];var total_match=item_data.search_match+item_data.filters_match+item_data.range_match;item_data.display=(total_match==total_active)}
var visible_items=[];for(var i=0;i<this.data.length;i++){var item_data=this.data[i];if(item_data.display){visible_items.push(item_data)}else{$(item_data.item).detach()}}
if(this.sort){this.sortItems(visible_items)}
while(visible_items.length){var item_data=visible_items.pop();this.list.prepend(item_data.item);_animate(item_data.item,!0)}}else{var visible_items=[],bestmatch_items=[];this.items.removeClass('uf-bestmatch');for(var i=0;i<this.data.length;i++){var item_data=this.data[i],item=$(item_data.item);var total_match=item_data.filters_match+item_data.search_match+item_data.range_match;if(total_match>0){for(var k=1;k<=total_active;k++){if(total_match==k){item_data.display=!0;if(k==total_active){bestmatch_items.push(item_data);item.addClass('uf-bestmatch')}else{visible_items.push(item_data)}}}}else{item.detach()}}
if(this.sort){if(bestmatch_items.length){this.sortItems(bestmatch_items)}else{this.sortItems(visible_items)}}
var all_items=bestmatch_items.concat(visible_items);while(all_items.length){var item_data=all_items.pop(),item=$(item_data.item);this.list.prepend(item);_animate(item,!0)}
if(visible_items.length){if(bestmatch_items.length){this.list.children('.uf-bestmatch:not(.uf-clone)').last().after('<div id="uf-separator">'+this.options.bestMatchText+'</div>')}else{this.list.prepend('<div id="uf-separator">'+this.options.bestMatchText+'</div>')}}
if(bestmatch_items.length===0){this.list.prepend('<div id="uf-empty">'+this.options.bestMatchEmpty+'</div>')}}
if(this.options.autoScroll&&total_active){window.clearTimeout(this.scrollTimer);this.scrollTimer=window.setTimeout(function(){$('body, html').stop().animate({scrollTop:$(that.list).offset().top},300,'swing')},this.options.autoScrollDelay)}
window.setTimeout(function(){that.container.trigger('onListUpdate')},50)};UniFilter.prototype.sortItems=function(items_data){var that=this;items_data.sort(function(data1,data2){var sort1=data1.sort[that.sort[0]],sort2=data2.sort[that.sort[0]];if(sort1==sort2){return 0}else if(that.sort[1]=="ASC"){return sort2<sort1?1:-1}else{return sort2>sort1?1:-1}})};UniFilter.prototype.searchItems=function(){for(var i=0;i<this.data.length;i++){var item_data=this.data[i];item_data.search_match=0;for(var search_name in this.search){for(var k=0;k<this.search[search_name].length;k++){var query=this.search[search_name][k];var reg=new RegExp('\\b'+query,'gi');if(reg.test(item_data.search[search_name].join(' '))){item_data.search_match++}}}}
this.updateList()};UniFilter.prototype.rangeItems=function(){for(var i=0;i<this.data.length;i++){var item_data=this.data[i];item_data.range_match=0;for(var range_name in this.range){var min=this.range[range_name][0];var max=this.range[range_name][1];if(item_data.range[range_name]>=min&&item_data.range[range_name]<=max){item_data.range_match++}}}
this.updateList()};UniFilter.prototype.getLeadingFilters=function(){var leading=[];for(var filter_name in this.options.filters){if(this.options.filters[filter_name].leading===!0){leading.push(filter_name)}}
return leading};UniFilter.prototype.getItemSearch=function(item){var search_params={};if(!this.options.search){return null}
for(var search_name in this.options.search){var data,search=this.options.search[search_name];search_params[search_name]=[];if(search.getSearchData&&typeof search.getSearchData==="function"){data=search.getSearchData.call(item,search_name);if(Array.isArray(data)){search_params[search_name]=data}}else{data=$(item).data(search_name);if(data&&data.length){search_params[search_name]=data.split(/\s*,\s*/)}}}
return search_params};UniFilter.prototype.getItemSort=function(item){var sort_data={};if(!this.options.sort){return null}
for(var sort_name in this.options.sort.options){var sort=this.options.sort.options[sort_name];if(sort.getSortData&&typeof sort.getSortData=="function"){sort_data[sort_name]=sort.getSortData.call(item,sort_name)}else{sort_data[sort_name]=$(item).data(sort_name)}}
return sort_data};UniFilter.prototype.getItemRange=function(item){var range_data={};if(!this.options.range){return null}
for(var range_name in this.options.range){var range=this.options.range[range_name];if(range.getRangeData&&typeof range.getRangeData=="function"){range_data[range_name]=range.getRangeData.call(item,range_name)}else{range_data[range_name]=$(item).data(range_name)}}
return range_data};UniFilter.prototype.addDeepLinking=function(){if(!this.options.deepLinking){return}
var hash_parts=location.hash.substr(1).split('&');for(var i=0;i<hash_parts.length;i++){if(/^\w+=(\w+\,?)+$/.test(hash_parts[i])){var hash_split=hash_parts[i].split('=');this.filters[hash_split[0]]=hash_split[1].split(',');for(var k=0;k<this.filters[hash_split[0]].length;k++){var tag=this.filters[hash_split[0]][k];$('#uf-'+hash_split[0]+' .uf-tags > li').has('a[href="#'+tag+'"]').addClass('uf-selected')}}}
this.hideEmptyFilters();this.filterItems()};UniFilter.prototype.hideEmptyFilters=function(){if(!this.options.hideEmptyFilters){return}
var leading=this.getLeadingFilters();var leading_filter='';for(var i=0;i<leading.length;i++){if(this.filters.hasOwnProperty(leading[i])&&this.filters[leading[i]].length){leading_filter=leading[i];break}}
if(leading_filter===''){return}
var leading_tags=this.filters[leading_filter];var visible_filters={};for(var k=0;k<this.data.length;k++){var item_filters=this.data[k].filters;if(item_filters[leading_filter].length>0){for(var m=0;m<item_filters[leading_filter].length;m++){var item_tag=item_filters[leading_filter][m];if(leading_tags.indexOf(item_tag)!==-1){for(var item_filter in item_filters){if(visible_filters.hasOwnProperty(item_filter)){visible_filters[item_filter]=visible_filters[item_filter].concat(item_filters[item_filter])}else{visible_filters[item_filter]=item_filters[item_filter]}}}}}}
delete(visible_filters[leading_filter]);for(var filter_name in visible_filters){var unique_tags=[],all_tags=visible_filters[filter_name];while(all_tags.length){var tag=all_tags.pop();if(unique_tags.indexOf(tag)===-1){unique_tags.push(tag)}}
visible_filters[filter_name]=unique_tags}
for(var filter_name in visible_filters){var filter_markup=this.container.find('#uf-'+filter_name+' .uf-tags');filter_markup.children(':not(.uf-reset)').addClass('uf-tag-hidden');for(var k=0;k<visible_filters[filter_name].length;k++){var visible_tag=visible_filters[filter_name][k];filter_markup.find('[href="#'+visible_tag+'"]').parent().removeClass('uf-tag-hidden')}}};$.fn.unifilter=function(list,options){var default_options={selector:'',animationType:'opacity',animationTime:500,order:'filters, search, sort, range',bestMatch:!1,bestMatchText:'You may also like',bestMatchEmpty:'No items found',autoScroll:!1,autoScrollDelay:1000,deepLinking:!0,hideEmptyFilters:!1,filters:null,search:null,sort:null,range:null};var filter_options={display:!0,title:'',subtitle:'',multiple:!1,tooltip:!1,leading:!1,getFilterData:null,sortFilterTags:null};var search_options={display:!0,title:'',subtitle:'',placeholder:'Type here..',getSearchData:null};var sort_options={display:!0,title:'',subtitle:'',placeholder:'Sort by',options:{"_dummy":{label:'',order:'DESC',getSortData:null}}};var range_options={display:!0,title:'',subtitle:'',scale:'0-100',precision:0,prefix:'',getRangeData:null};if(options.range&&typeof options.range==='object'){for(var entry in options.range){options.range[entry]=$.extend($.extend({},range_options),options.range[entry])}}
if(options.filters&&typeof options.filters==='object'){for(var entry in options.filters){options.filters[entry]=$.extend($.extend({},filter_options),options.filters[entry])}}
if(options.search&&typeof options.search==='object'){for(var entry in options.search){options.search[entry]=$.extend($.extend({},search_options),options.search[entry])}}
if(options.sort&&typeof options.sort==='object'){if(options.sort.options&&typeof options.sort.options==='object'){var extended={};for(var option_name in options.sort.options){extended[option_name]=$.extend($.extend({},sort_options.options._dummy),options.sort.options[option_name])}
options.sort.options=extended;options.sort=$.extend(sort_options,options.sort)}}
options=$.extend(default_options,options);return this.each(function(){new UniFilter(this,list,options)})}})(jQuery)